---
title: "Ubuntuã«Dockerã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"
emoji: "ğŸ™†"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["docker"]
published: true
---


:::message
2024/05/19  "Docker Compose ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«" ã‚’è¿½åŠ 
:::

# ã¯ã˜ã‚ã«

åŸºæœ¬çš„ã«ã¯Ubuntuå‘ã‘ã®ã‚¤ãƒ³ãƒ•ãƒ©ã®å‚™å¿˜éŒ²å…¼è‡ªåˆ†ã®ãŸã‚ã®ãƒªãƒ³ã‚¯ç”¨ã€‚


# Dockerã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã¾ãšã¯Dockerã‚’å°å…¥ã™ã‚‹ãŸã‚ã«å¿…è¦ã¨ãªã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚

```bash:terminal
sudo apt update
sudo apt install -y apt-transport-https ca-certificates curl software-properties-common
```

å…¬å¼Dockerãƒªãƒã‚¸ãƒˆãƒªã®GPGã‚­ãƒ¼ã‚’ã‚·ã‚¹ãƒ†ãƒ ã«è¿½åŠ ã—ã€Dockerãƒªãƒã‚¸ãƒˆãƒªã‚’APTã‚½ãƒ¼ã‚¹ã«è¿½åŠ ã™ã‚‹ã€‚

```bash:terminal
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"
sudo apt update
```

Dockerã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®å‚ç…§ãŒã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®Ubuntuãƒªãƒã‚¸ãƒˆãƒªã§ã¯ãªãã€Dockerãƒªãƒã‚¸ãƒˆãƒªã¨ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚

```bash:terminal
apt-cache policy docker-ce
```

ä¾‹ãˆã°ã€ä»¥ä¸‹ã®å‡ºåŠ›ã¨ãªã£ã¦ã„ã‚Œã°ã‚ˆã„ã€‚

```
docker-ce:
  Installed: (none)
  Candidate: 5:19.03.9~3-0~ubuntu-focal
  Version table:
     5:19.03.9~3-0~ubuntu-focal 500
        500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages
```

Dockerã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚

```bash:terminal
sudo apt install -y docker-ce
```

DockerãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚

```bash:terminal
sudo docker version
```

Dockerã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯sudoã«ã‚ˆã‚Šå®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚  
æ“ä½œãƒ¦ãƒ¼ã‚¶ã«é–¢ã—ã¦ã¯ã€sudoãªã—ã§Dockerå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã€dockerã‚°ãƒ«ãƒ¼ãƒ—ã«è¿½åŠ ã™ã‚‹ã€‚

```bash:terminal
sudo gpasswd -a $(whoami) docker
getent group docker
```

å…ˆã»ã©ã¯sudoã‚’ã¤ã‘ã¦ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèªã‚’è¡Œã£ãŸãŒã€ä»Šåº¦ã¯sudoãªã—ã§ã‚‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèªãŒã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚

```bash:terminal
docker version
```

Dockerã®ã‚µãƒ¼ãƒ“ã‚¹ã®æœ‰åŠ¹åŒ–ã‚’è¡Œã†ã€‚

```bash:terminal
sudo systemctl enable docker
```

# Docker Compose ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Docker ã®ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰Docker Composeã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash:terminal
sudo apt install docker-compose-plugin
```

Docker ComposeãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚

```bash:terminal
docker compose version
```
